{"openapi":"3.0.0","paths":{"/api/user/info":{"get":{"operationId":"UserController_getInfo","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"bearer":[]}]}},"/api/user/onboard":{"post":{"operationId":"UserController_processOnboarding","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnboardingDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/api/auth/verify":{"post":{"operationId":"AuthController_verify","summary":"","description":"Given a [Firebase TokenId](https://firebase.google.com/docs/auth/admin/verify-id-tokens#android), verify the token and return\nanother a JWT to be used for future API calls to protected endpoints (in Bearer authentication).","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequestDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}}}}},"/api/healer/nearby":{"get":{"operationId":"HealerController_nearby","parameters":[{"name":"lat","required":true,"in":"query","schema":{"type":"number"}},{"name":"lng","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NearbyHealersDto"}}}}},"security":[{"bearer":[]}]}},"/api/healer/availability":{"get":{"operationId":"HealerController_availability","parameters":[{"name":"healerId","required":true,"in":"query","schema":{"type":"number"}},{"name":"start","required":true,"in":"query","schema":{"format":"date-time","type":"string"}},{"name":"end","required":true,"in":"query","schema":{"format":"date-time","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AvailabilitySlotDto"}}}}}},"security":[{"bearer":[]}]}},"/api/session/list":{"get":{"operationId":"SessionController_listSessions","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserSessionDto"}}}}}},"security":[{"bearer":[]}]}},"/api/session/book":{"post":{"operationId":"SessionController_book","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]}},"/api/content":{"get":{"operationId":"ContentController_getAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Unit"}}}}}},"security":[{"bearer":[]}]}}},"info":{"title":"HEA Backend","description":"See /api/auth/verify for authentication","version":"0.5","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"MedicalTag":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"description":{"type":"string"},"proficiencies":{"type":"array","items":{"$ref":"#/components/schemas/MedicalProficiency"}}},"required":["id","name","description","proficiencies"]},"MedicalProficiency":{"type":"object","properties":{"healer":{"$ref":"#/components/schemas/Healer"},"tag":{"$ref":"#/components/schemas/MedicalTag"},"proficiency":{"type":"number"}},"required":["healer","tag","proficiency"]},"Slot":{"type":"object","properties":{"id":{"type":"number"},"healer":{"$ref":"#/components/schemas/Healer"},"isHouseVisit":{"type":"boolean"},"duration":{"type":"object"},"rrule":{"type":"string","description":"RFC5545 RRULE;\nMust contain DTSTART. Use the `rrule` library to generate this.","example":"'DTSTART:20120201T093000Z\\nRRULE:FREQ=WEEKLY;UNTIL=20250130T230000Z;BYDAY=MO';"}},"required":["id","healer","isHouseVisit","duration","rrule"]},"Healer":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"description":{"type":"string"},"location":{"type":"object"},"proficiencies":{"type":"array","items":{"$ref":"#/components/schemas/MedicalProficiency"}},"slots":{"type":"array","items":{"$ref":"#/components/schemas/Slot"}},"sessions":{"type":"array","items":{"$ref":"#/components/schemas/Session"}}},"required":["id","name","description","location","proficiencies","slots","sessions"]},"User":{"type":"object","properties":{"id":{"type":"number"},"authId":{"type":"string"},"level":{"type":"object"},"healthData":{"type":"array","items":{"type":"object"}},"name":{"type":"string"},"gender":{"type":"string","enum":["Male","Female","Others"]},"birthday":{"format":"date-time","type":"string"},"height":{"type":"number"},"weight":{"type":"number"},"country":{"type":"string"},"isSmoker":{"type":"boolean"},"smokingPacksPerDay":{"type":"string","enum":["LessOnePack","OneToTwoPacks","ThreeToFivePacks","FivePacks"]},"smokingYears":{"type":"number"},"alcoholFreq":{"type":"string","enum":["NotAtAll","OnceAMonth","OnceAWeek","FewTimesAWeek","Everyday"]},"outlook":{"type":"string","enum":["Positive","Negative","Soulless"]},"maritalStatus":{"type":"string","enum":["Single","Married","Widowed","Divorced"]},"familyHistory":{"type":"string"},"birthControl":{"type":"string"},"sessions":{"type":"array","items":{"$ref":"#/components/schemas/Session"}}},"required":["id","authId","level","healthData","sessions"]},"Session":{"type":"object","properties":{"id":{"type":"number"},"healer":{"$ref":"#/components/schemas/Healer"},"user":{"$ref":"#/components/schemas/User"},"location":{"type":"object"},"isHouseVisit":{"type":"boolean"},"start":{"format":"date-time","type":"string"},"end":{"format":"date-time","type":"string"}},"required":["id","healer","user","location","isHouseVisit","start","end"]},"SmokerInfo":{"type":"object","properties":{"packsPerDay":{"type":"string","enum":["LessOnePack","OneToTwoPacks","ThreeToFivePacks","FivePacks"]},"years":{"type":"number","minimum":0}},"required":["packsPerDay","years"]},"OnboardingDto":{"type":"object","properties":{"name":{"type":"string"},"gender":{"type":"string","enum":["Male","Female","Others"]},"birthday":{"format":"date-time","type":"string","description":"Birthday, but only the Date part is considered"},"height":{"type":"number","minimum":0.3,"maximum":3},"weight":{"type":"number","minimum":3,"maximum":200},"country":{"type":"string","description":"ISO31661 2-letter alphabetical country code"},"smoking":{"nullable":true,"allOf":[{"$ref":"#/components/schemas/SmokerInfo"}]},"alcoholFreq":{"type":"string","enum":["NotAtAll","OnceAMonth","OnceAWeek","FewTimesAWeek","Everyday"]},"outlook":{"type":"string","enum":["Positive","Negative","Soulless"]},"maritalStatus":{"type":"string","enum":["Single","Married","Widowed","Divorced"]},"familyHistory":{"type":"string","nullable":true},"birthControl":{"type":"string","nullable":true}},"required":["name","gender","birthday","height","weight","country","smoking","alcoholFreq","outlook","maritalStatus","familyHistory","birthControl"]},"AuthRequestDto":{"type":"object","properties":{"firebaseToken":{"type":"string"}},"required":["firebaseToken"]},"AuthResponseDto":{"type":"object","properties":{"jwt":{"type":"string"}},"required":["jwt"]},"MedicalProficiencyDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"proficiency":{"type":"number"}},"required":["name","description","proficiency"]},"AvailabilitySlotDto":{"type":"object","properties":{"start":{"format":"date-time","type":"string"},"end":{"format":"date-time","type":"string"},"isHouseVisit":{"type":"boolean"}},"required":["start","end","isHouseVisit"]},"LocationDto":{"type":"object","properties":{"lat":{"type":"number"},"lng":{"type":"number"}},"required":["lat","lng"]},"NearbyHealerDto":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"description":{"type":"string"},"proficiencies":{"type":"array","items":{"$ref":"#/components/schemas/MedicalProficiencyDto"}},"availability":{"type":"array","items":{"$ref":"#/components/schemas/AvailabilitySlotDto"}},"location":{"$ref":"#/components/schemas/LocationDto"}},"required":["id","name","description","proficiencies","availability","location"]},"NearbyHealersDto":{"type":"object","properties":{"healers":{"type":"array","items":{"$ref":"#/components/schemas/NearbyHealerDto"}}},"required":["healers"]},"UserSessionHealerDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"proficiencies":{"type":"array","items":{"$ref":"#/components/schemas/MedicalProficiencyDto"}}},"required":["name","description","proficiencies"]},"UserSessionDto":{"type":"object","properties":{"id":{"type":"number"},"healer":{"$ref":"#/components/schemas/UserSessionHealerDto"},"location":{"$ref":"#/components/schemas/LocationDto"},"isHouseVisit":{"type":"boolean"},"start":{"format":"date-time","type":"string"},"end":{"format":"date-time","type":"string"}},"required":["id","healer","location","isHouseVisit","start","end"]},"BookingDto":{"type":"object","properties":{"healerId":{"type":"number"},"slot":{"$ref":"#/components/schemas/AvailabilitySlotDto"}},"required":["healerId","slot"]},"Unit":{"type":"object","properties":{"id":{"type":"number"},"unitNum":{"type":"number"},"icon":{"type":"string"},"title":{"type":"string"},"lessons":{"type":"array","items":{"$ref":"#/components/schemas/Lesson"}}},"required":["id","unitNum","icon","title","lessons"]},"Page":{"type":"object","properties":{"id":{"type":"number"},"pageNum":{"type":"number"},"icon":{"type":"string"},"title":{"type":"string"},"text":{"type":"string"},"lesson":{"$ref":"#/components/schemas/Lesson"}},"required":["id","pageNum","icon","title","text","lesson"]},"Lesson":{"type":"object","properties":{"id":{"type":"number"},"lessonNum":{"type":"number"},"icon":{"type":"string"},"title":{"type":"string"},"unit":{"$ref":"#/components/schemas/Unit"},"pages":{"type":"array","items":{"$ref":"#/components/schemas/Page"}}},"required":["id","lessonNum","icon","title","unit","pages"]}}}}